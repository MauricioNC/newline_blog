<%= turbo_stream.append :posts do %>
  <% @posts.each do |post| %>
    <%= render 'shared/post', post: post %>
  <% end %>
<% end %>
<%= turbo_stream.replace :pagination do %>
  <% if @pagy.next.present? %>
    <%= turbo_frame_tag :pagination, 
                        loading: :lazy,
                        src: search_path(format: :turbo_stream, q: @query, page: @pagy.next) %>
  <% end %>
<% end %>